<h2>{{product.title}}</h2>
<p>{{product.description}}</p>
<p>Precio: ${{product.price}}</p>
<p>Stock disponible: {{product.stock}}</p>
<p>Categor√≠a: {{product.category}}</p>
<button onclick="addToCart('{{product._id}}')">Agregar al carrito</button>

<script>
    function addToCart(productId) {
        const cartId = localStorage.getItem("cartId");
        if (!cartId) {
            alert("Crea un carrito primero");
            return;
        }

        fetch(`/api/carts/${cartId}/product/${productId}`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ quantity: 1 })
        })
        .then(response => response.json())
        .then(data => alert("Producto agregado al carrito"))
        .catch(error => console.error("Error:", error));
    }
</script>
